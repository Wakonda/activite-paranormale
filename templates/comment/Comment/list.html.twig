{% set i = 0 %}
{% for entity in entities %}
	<div class="comment mt-2 p-2">
		<p class="pseudoComment">
			<span class="text-success font-weight-bold">
				{% if entity.anonymousComment == 0 %}
					{{ entity.authorComment.username }}
				{% else %}
					{{ entity.anonymousAuthorComment }}
				{% endif %}
			</span>
			- {{ entity.dateComment|dodate(true, app.request.locale) }}
		</p>
		<p>{{ entity.messageComment|raw }}</p>
	</div>
	{% if i == nbrMessageByPage-1 %}
		{% set i = 0 %}
	{% else %}
		{% set i = i + 1 %}
	{% endif %}
{% endfor %}
{% if entities|length != 0 %}
	<hr class="hr2"/>
	<nav aria-label="Page navigation">
		<ul class="pagination justify-content-center">
		{% for i in 1..nbrOfPages %}
			{% if currentPage == i %}
				<li class="page-item"><span class="page-link current_page">{{ i }}</span></li>
			{% else %}
				<li class="page-item"><a class="page page-link" href="">{{ i }}</a></li>
			{% endif %}
		{% endfor %}
		</ul>
	</nav>
{% endif %}

<script>
	$(".page").on("click", function(event)
	{
		var DATA = 'page=' + $(this).text();
		$.ajax(
		{
			type: "POST",
			url: "{{ path('APCommentBundle_pagination', { 'idClassName' : idClassName, 'className': className }) }}",
			data: DATA,
			cache: false,
			success: function(data)
			{
				$('#list_messages').html(data);
			}
		});
		event.preventDefault();
	});
</script>