<h3>{{ "admin.show.Internationalization"|trans([], "validators") }}</h3>

{% if method_exists(entity, "getInternationalName") %}
<table class="table table-striped table-bordered doc_datatables">
	<thead>
		<tr>
			<th>{{ "admin.internationalization.Title"|trans([], "validators") }}</th>
			<th>{{ "admin.internationalization.Language"|trans([], "validators") }}</th>
			<th>{{ "admin.index.Action"|trans([], "validators") }}</th>
		</tr>
	</thead>
	<tbody>
		{% for key, e in entities_other_languages(entity) %}
			<tr>
				<td>{{ e.title }}</td>
				<td><img src="{{ asset(entity.language.getAssetImagePath()~e.language.logo) }}" width="20" /></td>
				<td>
					<a href="{{ path(showRoute, {'id' : e.id }) }}"><i class="fas fa-book" aria-hidden="true"></i> {{ "admin.general.Read"|trans([], "validators") }}</a><br>
					<a href="{{ path(editRoute, {'id' : e.id }) }}"><i class="fas fa-sync-alt" aria-hidden="true"></i> {{ "admin.general.Update"|trans([], "validators") }}</a>
				</td>
			</tr>
		{% endfor %}
	</tbody>
</table>
{% endif %}

<div class="input-group mb-3 mt-2">
	{{ form_widget(form.language, { 'attr': {'class': 'form-control'}}) }}
	<div class="input-group-append">
		<a href="#" class="btn btn-success" id="{{ form.language.vars.id }}_select_language">{{ "admin.general.Create"|trans([], "validators") }}</a>
	</div>
</div>

<script src="{{ asset('extended/js/DataTables/media/js/jquery.dataTables.js') }}"></script>
<script src="{{ asset('extended/js/DataTables/media/js/dataTables.bootstrap4.min.js') }}"></script>
<script src="{{ asset('extended/js/DataTables/extensions/Responsive/js/dataTables.responsive.min.js') }}"></script>
<script src="{{ asset('extended/js/DataTables/extensions/Responsive/js/responsive.bootstrap4.min.js') }}"></script>
<script src="{{ asset('extended/js/DataTables/indexDatatables.js') }}"></script>
<link rel="stylesheet" href="{{ asset('extended/js/DataTables/media/css/dataTables.bootstrap4.min.css') }}" type="text/css" media="screen" />
<link rel="stylesheet" href="{{ asset('extended/js/DataTables/extensions/Responsive/css/responsive.bootstrap4.min.css') }}" type="text/css" media="screen" />
<script>
	document.querySelector("#{{ form.language.vars.id }}_select_language").addEventListener("click", (e) => {
		e.preventDefault();
		window.location.href = "{{ route }}?fromId={{ entity.id }}&locale=" + document.querySelector("#{{ form.language.vars.id }}").value;
	});

	$(function ()
	{
		$('.doc_datatables').DataTable( {
			"oLanguage": {
				"sUrl": "{{ asset('extended/js/DataTables/language/dataTables.'~app.request.locale~'.txt') }}"
			},
			"sPaginationType": "full_numbers",
			"bInfo": false,
			"bLengthChange": false,
			"bFilter": false,
			"aaSorting": [[ 0, "desc" ]],
			"responsive": {
				"details": {
					display: $.fn.dataTable.Responsive.display.childRowImmediate,
					type: 'none',
					target: ''
				}
			}
		});
	});
</script>