{% extends "content_layout.html.twig" %}

{% block title %}{{ ("quotation.index." ~ (entity.family|ucfirst))|trans([], "validators") }}{% endblock %}
{% block h2_title %}<h2><span class="float-left"><img src="{{ asset('extended/photo/avengers-hawkeye-icon.png') }}" width="25" class="mt-1" alt="Werewolf"/></span>{{ ("quotation.index." ~ (entity.family|ucfirst))|trans([], "validators") }}{% if entity.isQuotationFamily %} - {{ entity.authorQuotation.title }}{% endif %}</h2>{% endblock h2_title %}

{% block APBlog_body %}
	<div id="quotation_bubble_parent">
		<div id="quotation_bubble" class="font-italic">
			&ldquo;{{ entity.textQuotation }}&rdquo;
		</div>
	</div>
	
	{% if entity.isQuotationFamily %}
		<span id="author_quotation"><a href="{{ path('Biography_Show', { 'id' : entity.authorQuotation.id, 'title': entity.authorQuotation.title }) }}" alt="{{ entity.authorQuotation.title }}" class="font-weight-bold">{{ entity.authorQuotation.title }}</a></span>
	{% else %}
		<img src="{{ asset(entity.country.getAssetImagePath()) }}{{ entity.country.flag }}" alt="" width="20" height="13" /> <a href="{{ path('Proverb_Country_Show', { 'id' : entity.country.id, 'title': entity.country.title }) }}" alt="{{ entity.country.title }}" class="font-weight-bold">{{ entity.country.title }}</a></span>
	{% endif %}
	{% if entity.images is not empty %}
		<div id="carousel-quote-read" class="carousel-pagination carousel slide mt-3" data-interval="false">
			<!-- Indicators -->
			<ol class="carousel-indicators carousel-indicators-numbers pagination">
			{% set i = 0 %}
			{% set j = 1 %}
			{% for imageEntity in entity.images %}
				<li data-target="#carousel-quote-read" data-slide-to="{{ i }}" {{ i == 0 ? 'class="active"' : '' }}>{{ j }}</li>
				{% set i = i + 1 %}
				{% set j = j + 1 %}
			{% endfor %}
			</ol>

			<!-- Wrapper for slides -->
			<div class="carousel-inner" role="listbox">
				{% set i = 0 %}
				{% for imageEntity in entity.images %}
					<div class="carousel-item {{ i == 0 ? 'active' : '' }}">
						<div>{{ imageEntity.image|imgsize(550, entity.getAssetImagePath(), true, { 'class': 'mx-auto d-block img-fluid'})|raw }}</div>
					</div>
					{% set i = i + 1 %}
				{% endfor %}
			</div>
		</div>
	{% endif %}
	
	{% if entity.explanation is not empty %}
	<br>
	<br>
	<h3>{{ "quotation.read.Explanation"|trans([], "validators") }}</h3>
	{{ entity.explanation|raw }}
	{% endif %}
	{% if entity.source is not empty %}
	<br>
	<h3>{{ "news.index.Sources"|trans([], "validators") }}</h3>
	{{ source_document(entity.source, entity.language) }}
	{% endif %}

	{% if entity.isQuotationFamily %}
		{% include 'news/Widget/socialNetwork.html.twig' with {'titleNetwork':entity.textQuotation~'('~entity.authorQuotation.title~')', 'entity':entity, 'url':app.request.server.get("REQUEST_URI")} %}
	{% else %}
		{% include 'news/Widget/socialNetwork.html.twig' with {'titleNetwork':entity.textQuotation~'('~entity.country.title~')', 'entity':entity, 'url':app.request.server.get("REQUEST_URI")} %}
	{% endif %}

	<br>
	<hr class="hr2">
	{{ "google"|advertisement|raw }}
{% endblock %}

{% block header_plus %}
	<script>
		$(document).ready(function(){
			$('#carousel-quote-read').carousel({
				interval: false
			}).on('slide.bs.carousel', function (e) {
				var nextH = $(e.relatedTarget).height();
				$(this).find('.active.carousel-item').parent().animate({
					height: nextH
				}, 500);
			});
		});
	</script>
{% endblock %}